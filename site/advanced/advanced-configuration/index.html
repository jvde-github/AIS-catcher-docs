
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Comprehensive guide to installing, configuring, and using AIS-catcher.">
      
      
        <meta name="author" content="jvde.github@gmail.com">
      
      
        <link rel="canonical" href="https://aiscatcher.org/docs/advanced/advanced-configuration/">
      
      
        <link rel="prev" href="../../configuration/nmea2000-support/">
      
      
        <link rel="next" href="../grafana/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.44">
    
    
      
        <title>Advanced Configuration - AIS-catcher Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.0253249f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../styles/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#advanced-configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="AIS-catcher Docs" class="md-header__button md-logo" aria-label="AIS-catcher Docs" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AIS-catcher Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Advanced Configuration
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/jvde-github/AIS-catcher" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="AIS-catcher Docs" class="md-nav__button md-logo" aria-label="AIS-catcher Docs" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    AIS-catcher Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/jvde-github/AIS-catcher" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/ais-basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AIS Basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/first-run/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    First Run
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Installation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/overview.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/raspberry-pi/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Raspberry Pi
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/windows/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Windows
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/build-source/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Build from Source
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/ubuntu-debian/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ubuntu and Debian
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Basic Usage
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Basic Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/overview.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/gui/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web GUI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Command Line
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../usage/json-configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JSON Configuration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Configuration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/overview.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Input Options
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Input Options
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/input/overview.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/input-options/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Details
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Output Options
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Output Options
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/output/overview.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/output/output-options.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Details
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/web-viewer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web Viewer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/mqtt-integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    MQTT Integration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../configuration/nmea2000-support/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    NMEA2000
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Advanced
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Advanced
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Advanced Configuration
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Advanced Configuration
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#long-range-ais-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Long Range AIS messages
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nmea-input" class="md-nav__link">
    <span class="md-ellipsis">
      NMEA input
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specifying-station-location" class="md-nav__link">
    <span class="md-ellipsis">
      Specifying Station Location
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Specifying Station Location">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multiple-device-input" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple device input
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-ais-messages-to-a-postgres-database" class="md-nav__link">
    <span class="md-ellipsis">
      Writing AIS messages to a Postgres Database
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-on-rpi-zero-w-and-other-devices-with-performance-limitations" class="md-nav__link">
    <span class="md-ellipsis">
      Running on RPI Zero W and other devices with performance limitations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connecting-to-gnu-radio-via-zmq" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting to GNU Radio via ZMQ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multiple-receiver-models" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple receiver models
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#input-from-fm-discriminator" class="md-nav__link">
    <span class="md-ellipsis">
      Input from FM discriminator
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../grafana/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Grafana
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../validation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Validation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../JSON-decoding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JSON AIS format
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../community/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Community
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../references/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    References
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#long-range-ais-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Long Range AIS messages
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nmea-input" class="md-nav__link">
    <span class="md-ellipsis">
      NMEA input
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#specifying-station-location" class="md-nav__link">
    <span class="md-ellipsis">
      Specifying Station Location
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Specifying Station Location">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multiple-device-input" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple device input
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#writing-ais-messages-to-a-postgres-database" class="md-nav__link">
    <span class="md-ellipsis">
      Writing AIS messages to a Postgres Database
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-on-rpi-zero-w-and-other-devices-with-performance-limitations" class="md-nav__link">
    <span class="md-ellipsis">
      Running on RPI Zero W and other devices with performance limitations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#connecting-to-gnu-radio-via-zmq" class="md-nav__link">
    <span class="md-ellipsis">
      Connecting to GNU Radio via ZMQ
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#multiple-receiver-models" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple receiver models
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#input-from-fm-discriminator" class="md-nav__link">
    <span class="md-ellipsis">
      Input from FM discriminator
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="advanced-configuration">Advanced Configuration<a class="headerlink" href="#advanced-configuration" title="Permanent link">&para;</a></h1>
<h2 id="long-range-ais-messages">Long Range AIS messages<a class="headerlink" href="#long-range-ais-messages" title="Permanent link">&para;</a></h2>
<p>AIS-catcher has the option to listen at frequency 156.8 Mhz to receive Channel 3/C and 4/D (vs the default A and B around 162 MHz) with the switch <code>-c CD</code>. This follows ideas from a post on the <a href="https://groups.io/g/shipplotter/topic/ais_type_27_long_range/92150532?p=,,,20,0,0,0::recentpostdate/sticky,,,20,2,0,92150532,previd%3D1657138240979957244,nextid%3D1644163712453715490&amp;previd=1657138240979957244&amp;nextid=1644163712453715490">Shipplotter forum</a>. The default decoder is available with the switch <code>-c AB</code>. Note that <code>gpsdecode</code> cannot handle channel designations C and D in NMEA lines. You can provide an optional argument to use channel designations A and B in the NMEA line with the command <code>-c CD AB</code>.</p>
<p>In a similar fashion <code>-c X</code> will decode one channel. This is only useful in some instances, see the ZMQ example below.</p>
<h2 id="nmea-input">NMEA input<a class="headerlink" href="#nmea-input" title="Permanent link">&para;</a></h2>
<p>AIS-catcher can be used as a command line utility that decodes NMEA lines in a file and prints the results as JSON. It provides a way to move the JSON analysis to the server side (send over NMEA with minimal metadata) or for unit testing the JSON decoder which was the prime reason for the addition of this feature. As an example:
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;!AIVDM,1,1,,B,3776k`5000a3SLPEKnDQQWpH0000,0*78&#39;</span><span class="w">  </span><span class="p">|</span><span class="w"> </span>AIS-catcher<span class="w"> </span>-r<span class="w"> </span>txt<span class="w"> </span>.<span class="w"> </span>-o<span class="w"> </span><span class="m">5</span>
</code></pre></div>
which produces
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="nt">&quot;class&quot;</span><span class="p">:</span><span class="s2">&quot;AIS&quot;</span><span class="p">,</span><span class="nt">&quot;device&quot;</span><span class="p">:</span><span class="s2">&quot;AIS-catcher&quot;</span><span class="p">,</span><span class="nt">&quot;scaled&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nt">&quot;channel&quot;</span><span class="p">:</span><span class="s2">&quot;B&quot;</span><span class="p">,</span><span class="nt">&quot;nmea&quot;</span><span class="p">:[</span><span class="s2">&quot;!AIVDM,1,1,,B,3776k`5000a3SLPEKnDQQWpH0000,0*78&quot;</span><span class="p">],</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="nt">&quot;repeat&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;mmsi&quot;</span><span class="p">:</span><span class="mi">477213600</span><span class="p">,</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="nt">&quot;status_text&quot;</span><span class="p">:</span><span class="s2">&quot;Moored&quot;</span><span class="p">,</span><span class="nt">&quot;turn&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;speed&quot;</span><span class="p">:</span><span class="mf">0.000000</span><span class="p">,</span><span class="nt">&quot;accuracy&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nt">&quot;lon&quot;</span><span class="p">:</span><span class="mf">126.605469</span><span class="p">,</span><span class="nt">&quot;lat&quot;</span><span class="p">:</span><span class="mf">37.460617</span><span class="p">,</span><span class="nt">&quot;course&quot;</span><span class="p">:</span><span class="mf">39.000000</span><span class="p">,</span><span class="nt">&quot;heading&quot;</span><span class="p">:</span><span class="mi">252</span><span class="p">,</span><span class="nt">&quot;second&quot;</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="nt">&quot;maneuver&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="nt">&quot;raim&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="nt">&quot;radio&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>
</code></pre></div>
When piping NMEA text lines into AIS-catcher, use format <code>TXT</code> which ensures that the program immediately processes the incoming characters and will not buffer them first. The NMEA decoder can be activated with the switch <code>-m 5</code> but setting the input format to TXT will automatically activate this decoder. </p>
<p>This functionality opens a few doors. For example, you can use AIS-catcher to read and forward messages from a dAISy Hat (simply read from the file <code>cat /dev/serial0</code> on Linux) or process the data from Norwegian coastal traffic offered via a TCP server, like this:<br />
<div class="highlight"><pre><span></span><code>netcat<span class="w">  </span><span class="m">153</span>.44.253.27<span class="w">  </span><span class="m">5631</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>AIS-catcher<span class="w"> </span>-r<span class="w"> </span>txt<span class="w"> </span>.<span class="w"> </span>-o<span class="w"> </span><span class="m">5</span>
</code></pre></div></p>
<p>For input via TCP, you can skip the <code>netcat</code> command and directly read the input into the program as follows:
<div class="highlight"><pre><span></span><code>AIS-catcher<span class="w"> </span>-t<span class="w"> </span>txt<span class="w"> </span><span class="m">153</span>.44.253.27<span class="w"> </span><span class="m">5631</span>
</code></pre></div>
Again, the <code>FORMAT txt</code> option switches off the buffering and automatically selects the NMEA decoder.</p>
<p>Finally, you can also receive NMEA input via a built-in UDP server:
<div class="highlight"><pre><span></span><code>AIS-catcher<span class="w"> </span>-x<span class="w"> </span><span class="m">192</span>.168.1.235<span class="w"> </span><span class="m">4002</span>
</code></pre></div></p>
<p>The functionality to read NMEA lines from text files has been used to validate AIS-catcher JSON output on a <a href="https://www.aishub.net/ais-dispatcher">file</a> with 80K+ lines against <a href="https://pypi.org/project/pyais/">pyais</a> and <a href="https://gpsd.io/gpsdecode.html">gpsdecode</a>. Only available switches for this decoder are <code>-go NMEA_REFRESH</code> and <code>-go CRC_CHECK</code> which force AIS-catcher to, respectively, recalculate the NMEA lines if <code>on</code> (default <code>off</code>) and ignore messages with incorrect CRC if <code>on</code> (default <code>off</code>). Example: 
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;$AIVDM,1,1,,,3776k`5000a3SLPEKnDQQWpH0000,0*79&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>AIS-catcher<span class="w"> </span>-r<span class="w"> </span>txt<span class="w"> </span>.<span class="w"> </span>-n<span class="w"> </span>-go<span class="w"> </span>nmea_refresh<span class="w"> </span>on<span class="w"> </span>crc_check<span class="w"> </span>off
</code></pre></div>
returns a warning on the incorrect CRC and:
<div class="highlight"><pre><span></span><code>!AIVDM,1,1,,,3776k`5000a3SLPEKnDQQWpH0000,0*3A
</code></pre></div>
Note that CRC/checksum is the simple xor-checksum for validating that the NMEA line is not corrupted and not the CRC that is transmitted with the AIS message for a decoder to check the correct reception over air. This latter 16-bit checksum/CRC is not included in the NMEA message.</p>
<p>AIS-catcher will also accept AIVDO input which is typically used for the MMSI of the own ship. You can enable/disable this with: <code>-go VDO on/off</code>.</p>
<h2 id="specifying-station-location">Specifying Station Location<a class="headerlink" href="#specifying-station-location" title="Permanent link">&para;</a></h2>
<p>As discussed above, the webserver will only share a known location of the station with the front-end web viewer if <code>share_loc</code> is set for the webserver:
<div class="highlight"><pre><span></span><code>AIS-catcher<span class="w"> </span>-N<span class="w"> </span><span class="m">8100</span><span class="w"> </span>share_loc<span class="w"> </span>on
</code></pre></div>
This option is switched off by default for privacy reasons in case the web viewer is shared externally.
The NMEA decoder accepts NMEA lines from a GPS device (NMEA lines GPRMC, GPGLL and GPGGA):
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s1">&#39;$GPGGA, 161229.487, 3723.2475, N, 12158.3416, W, 1, 07, 1.0, 9.0, M, , , , 0000*18&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>./AIS-catcher<span class="w"> </span>-r<span class="w"> </span>txt<span class="w"> </span>.
</code></pre></div>
These GPS coordinates will be used to set the location of the station. In this way, the station can be visualized and tracked while on the move. This is useful if you use AIS-catcher to read from a hardware AIS receiver that has a built-in GPS.
Another approach is to read from a GPSD server, e.g. when GPSD listens on post 2947 of the local PC: 
<div class="highlight"><pre><span></span><code>AIS-catcher<span class="w"> </span>-t<span class="w"> </span>gpsd<span class="w"> </span>localhost<span class="w"> </span><span class="m">2947</span><span class="w"> </span>-N<span class="w"> </span><span class="m">8100</span><span class="w"> </span>share_loc<span class="w"> </span>on<span class="sb">`</span><span class="w"> </span>
</code></pre></div>
or from a serial device:
<div class="highlight"><pre><span></span><code>AIS-catcher<span class="w"> </span>-e<span class="w"> </span><span class="m">38400</span><span class="w"> </span>/dev/serial/by-id/usb-u-blox_AG_-_www.u-blox.com_u-blox
</code></pre></div>
The web viewer has the options <code>-N use_gps on/off</code> and <code>-N own_mmsi xxxxx</code>. The first enables/disables the use of GPS NMEA input as the location for the receiver station (default is on). The latter sets the station's location as the location of the vessel with the specified MMSI. The own MMSI will be highlighted on the web viewer map.</p>
<h3 id="multiple-device-input">Multiple device input<a class="headerlink" href="#multiple-device-input" title="Permanent link">&para;</a></h3>
<p>The latest version can run with multiple receivers in parallel. For example, one dongle for channel A+B and one dongle for channel C+D. To run with two receivers in parallel you can use a command like:
<div class="highlight"><pre><span></span><code>AIS-catcher<span class="w"> </span>-d<span class="w"> </span>serial1<span class="w"> </span>-v<span class="w"> </span>-d<span class="w"> </span>serial2<span class="w"> </span>-c<span class="w"> </span>CD<span class="w"> </span>-v<span class="w"> </span>-N<span class="w"> </span><span class="m">8100</span>
</code></pre></div></p>
<p>These functions allow AIS-catcher to receive input from an AIS receiver over UDP and a connected GPS device in parallel, e.g.:
<div class="highlight"><pre><span></span><code>AIS-catcher<span class="w"> </span>-e<span class="w"> </span><span class="m">38400</span><span class="w"> </span>/dev/serial/by-id/usb-u-blox_AG_-_www.u-blox.com_u-blox_7_-_GPS_GNSS_Receiver-if00<span class="w"> </span>-x<span class="w"> </span><span class="m">192</span>.168.1.235<span class="w"> </span><span class="m">4002</span><span class="w"> </span>-N<span class="w"> </span><span class="m">8100</span><span class="w"> </span>share_loc<span class="w"> </span>on
</code></pre></div>
The first receiver (<code>-e ...</code>) reads from a GPS device that is connected and emits NMEA lines. The second receiver (<code>-x</code>) reads AIS NMEA lines at port 4002 coming from another instance of AIS-catcher. The station is now plotted on the map with the location as provided
by the GPS coordinates. The web page has an option to fix the center of the map on the location of the receiving station (right-click on the station icon on the map).</p>
<h2 id="writing-ais-messages-to-a-postgres-database">Writing AIS messages to a Postgres Database<a class="headerlink" href="#writing-ais-messages-to-a-postgres-database" title="Permanent link">&para;</a></h2>
<p>As per full release <code>v0.45</code>, there is functionality to write messages to a database (PostgreSQL). The setup is fairly flexible and can be tailored to the particular needs. First create an empty PostgreSQL database, e.g on an Ubuntu distribution (this might be different on your system):
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>-u<span class="w"> </span>postgres<span class="w"> </span>createdb<span class="w"> </span>ais
</code></pre></div>
Set up the necessary tables from the AIS-catcher directory:
<div class="highlight"><pre><span></span><code>psql<span class="w"> </span>ais<span class="w"> </span>&lt;DBMS/create.sql<span class="w"> </span>
</code></pre></div>
Make sure you build the latest version of AIS-catcher with this dependency:
<div class="highlight"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>libpq-dev
</code></pre></div>
Now AIS-catcher can write the received messages to the database:
<div class="highlight"><pre><span></span><code>AIS-catcher<span class="w"> </span>-D<span class="w"> </span><span class="nv">dbname</span><span class="o">=</span>ais<span class="w"> </span>STATION_ID<span class="w"> </span><span class="m">17</span>
</code></pre></div>
or when more details, like username and password, are required:
<div class="highlight"><pre><span></span><code>AIS-catcher<span class="w"> </span>-D<span class="w"> </span>postgresql://<span class="o">[</span>user<span class="o">[</span>:password<span class="o">]</span>@<span class="o">][</span>netloc<span class="o">][</span>:port<span class="o">][</span>/dbname<span class="o">]</span>
</code></pre></div>
The <code>STATION_ID</code> setting is optional but will populate the entries in the database with the specified ID so multiple feeders can write to one database.
There are a few settings for the new <code>-D</code> switch of which the first is the connection string that specifies the database. If you want to use a space in the string use quotation marks around the string. There are other settings that define how tables will be populated:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Table</th>
<th style="text-align: left;">Description</th>
<th style="text-align: left;">Settings</th>
<th style="text-align: left;">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">ais_vessel</td>
<td style="text-align: left;">last received data per MMSI</td>
<td style="text-align: left;">V on/off</td>
<td style="text-align: left;"><strong>on</strong></td>
</tr>
<tr>
<td style="text-align: left;">ais_message</td>
<td style="text-align: left;">received messages with meta data</td>
<td style="text-align: left;">MSGS on/off</td>
<td style="text-align: left;">off</td>
</tr>
<tr>
<td style="text-align: left;">ais_nmea</td>
<td style="text-align: left;">nmea sentences</td>
<td style="text-align: left;">NMEA on/off</td>
<td style="text-align: left;">off</td>
</tr>
<tr>
<td style="text-align: left;">ais_basestation</td>
<td style="text-align: left;">basestation messsages from type 4</td>
<td style="text-align: left;">BS on/off</td>
<td style="text-align: left;">off</td>
</tr>
<tr>
<td style="text-align: left;">ais_sar_position</td>
<td style="text-align: left;">sar positions from type 9</td>
<td style="text-align: left;">SAR on/off</td>
<td style="text-align: left;">off</td>
</tr>
<tr>
<td style="text-align: left;">ais_aton</td>
<td style="text-align: left;">aton messages from type 21</td>
<td style="text-align: left;">ATON on/off</td>
<td style="text-align: left;">off</td>
</tr>
<tr>
<td style="text-align: left;">ais_vessel_pos</td>
<td style="text-align: left;">vessel position messages from type 1-3, 18, 19, 27</td>
<td style="text-align: left;">VP on/off</td>
<td style="text-align: left;">off</td>
</tr>
<tr>
<td style="text-align: left;">ais_vessel_static</td>
<td style="text-align: left;">vessel static data from type 5, 19</td>
<td style="text-align: left;">VS on/off</td>
<td style="text-align: left;">off</td>
</tr>
<tr>
<td style="text-align: left;">ais_property</td>
<td style="text-align: left;">specific key/value pairs with link to message</td>
<td style="text-align: left;">fill with keys specified in the table ais_keys</td>
<td style="text-align: left;">empty</td>
</tr>
</tbody>
</table>
<p>From hereon it is fairly straightforward to pick up this data and start analysis. If the connection fails during the decoding, for whatever reason, the program will try to reconnect to the database every 2 seconds. The maximum number of failed connection attempts before the program terminates is set with <code>MAX_FAILS</code> (&lt;1000) and is set on the command line. If <code>MAX_FAILS</code> is 1000 the program will not terminate if the connection fails.  </p>
<p>I hope this is sufficient to get you experimenting! Unfortunately, the options cannot yet be set from the JSON configuration file which is work in progress.</p>
<h2 id="running-on-rpi-zero-w-and-other-devices-with-performance-limitations">Running on RPI Zero W and other devices with performance limitations<a class="headerlink" href="#running-on-rpi-zero-w-and-other-devices-with-performance-limitations" title="Permanent link">&para;</a></h2>
<p>AIS-catcher implements a trick to speed up downsampling for RTLSDR input at 1536K samples/second by using fixed point calculations (<code>-F</code>). In essence, the downsampling is done 
in 16-bit integers performed in parallel for the I and Q channels using only 32-bit integers.</p>
<p align="center">
<img src="https://raw.githubusercontent.com/jvde-github/AIS-catcher/media/media/raspberry.jpg" width=40% height=40%>
</p>

<p>This feature can activated with the <code>-F</code> switch and is only available for RTL-SDR running at a rate 1536K per second (the default). 
To give an idea of the performance improvement on a Raspberry Pi Model B Rev 2 (700 MHz), I used the following command to decode from a file on the aforementioned Raspberry Pi:</p>
<p><div class="highlight"><pre><span></span><code>AIS-catcher<span class="w"> </span>-r<span class="w"> </span>posterholt.raw<span class="w"> </span>-s<span class="w"> </span>1536K<span class="w"> </span>-b<span class="w"> </span>-q<span class="w"> </span>-v
</code></pre></div>
Resulting in 38 messages and the <code>-b</code> switch prints the timing used for decoding:
<div class="highlight"><pre><span></span><code>[AIS engine v0.31]  : 17312.1 ms
</code></pre></div>
Adding the <code>-F</code> switch yielded the same number of messages but the timing is now:
<div class="highlight"><pre><span></span><code>[AIS engine (speed optimized) v0.31]    : 7722.32 ms
</code></pre></div>
On an RPI Zero W this will bring down CPU load to ~40% and avoid buffer overruns.</p>
<h2 id="connecting-to-gnu-radio-via-zmq">Connecting to GNU Radio via ZMQ<a class="headerlink" href="#connecting-to-gnu-radio-via-zmq" title="Permanent link">&para;</a></h2>
<p>The latest code base of AIS-catcher can take streaming data via ZeroMQ (ZMQ) as input. This eases the interface with packages like GNU Radio. The steps are simple and will be demonstrated by decoding the messages in the AIS example file from <a href="https://www.sdrplay.com/iq-demo-files/">here</a>. AIS-catcher cannot directly decode this file as the file contains only one channel, the frequency is shifted away from the center at 162Mhz and the sample rate of 62.5 KHz is not supported in our program. We can however perform decoding with some help from <a href="https://www.gnuradio.org/"><code>GNU Radio</code></a>. First start AIS-catcher to receive a stream (data format is complex float and sample rate is 96K) at a defined ZMQ endpoint:
<div class="highlight"><pre><span></span><code>AIS-catcher<span class="w"> </span>-z<span class="w"> </span>CF32<span class="w"> </span>tcp://127.0.0.1:5555<span class="w"> </span>-s<span class="w"> </span><span class="m">96000</span>
</code></pre></div>
Next we can build a simple GRC model that performs all the necessary steps and has a ZMQ Pub Sink with the chosen endpoint:
<img alt="Image" src="https://raw.githubusercontent.com/jvde-github/AIS-catcher/media/media/SDRuno%20GRC.png" />
Running this model, will allow us to successfully decode the messages in the file:</p>
<p><img alt="Image" src="https://raw.githubusercontent.com/jvde-github/AIS-catcher/media/media/SDRuno%20example.png" /></p>
<p>The ZMQ interface is useful if a datastream from an SDR needs to be shared and processed by multiple decoders or for experimentation with different decoder models with support from GNU Radio.</p>
<p>Note that with <a href="https://github.com/ha7ilm/csdr">CSDR</a> and <a href="https://sox.sourceforge.net/">SoX</a> we can also decode this file as follows:
<div class="highlight"><pre><span></span><code>sox<span class="w"> </span>SDRuno_20200907_184926Z_161985kHz.wav<span class="w"> </span>-t<span class="w"> </span>raw<span class="w"> </span>-b<span class="w"> </span><span class="m">32</span><span class="w"> </span>-e<span class="w"> </span>floating-point<span class="w"> </span>-<span class="w"> </span><span class="p">|</span>csdr<span class="w"> </span>shift_math_cc<span class="w"> </span><span class="m">0</span>.165<span class="w"> </span><span class="p">|</span><span class="w"> </span>AIS-catcher<span class="w">  </span>-r<span class="w"> </span>cf32<span class="w"> </span>.<span class="w"> </span>-s<span class="w"> </span><span class="m">62500</span><span class="w"> </span>-c<span class="w"> </span>X<span class="w"> </span>-v
</code></pre></div></p>
<h2 id="multiple-receiver-models">Multiple receiver models<a class="headerlink" href="#multiple-receiver-models" title="Permanent link">&para;</a></h2>
<p>The command line provides the `-m```` option which selects the specific decoding model.  In the current version, 4 different receiver models are embedded for raw data samples:</p>
<ul>
<li><strong>Default Model</strong> (<code>-m 2</code>): the default demodulation engine.</li>
<li><strong>Base Model (non-coherent)</strong> (<code>-m 1</code>): using FM discriminator model, similar to RTL-AIS (and GNUAIS/Aisdecoder) with tweaks to the Phase Locked Loop and main receiver filter (computed with a stochastic search algorithm).</li>
<li><strong>Standard Model (non-coherent)</strong> (<code>-m 0</code>): as the Base Model with brute force timing recovery.</li>
<li><strong>FM Discriminator model</strong>: (<code>`-m</code>3`) as the Standard Model but with the input already assumed to be the output of an FM discriminator. Hence no FM demodulation takes place which allows <code>AIS-catcher</code> to be used as GNUAIS and AISdecoder.</li>
</ul>
<p>The Default Model is the most time and memory consuming but experiments suggest it to be the most effective. In my home station, it improves message count by a factor 2 - 3. The reception quality of the Standard Model over the Base Model is more modest at the expense of roughly a 20% increase in computation time. Advice is to start with the Default Model, which should run fine on most modern hardware including a Raspberry 4B and then scale down to <code>-m 0</code>or even <code>-m 1</code>, if needed.</p>
<p>Notice that you can execute multiple models in one run for benchmarking purposes but only the messages from the first model specified are displayed on screen. To benchmark different models specify <code>-b</code> for timing and/or <code>-v</code> to compare message count, e.g.
<div class="highlight"><pre><span></span><code>AIS-catcher<span class="w"> </span>-s<span class="w"> </span>1536K<span class="w"> </span>-r<span class="w"> </span>posterholt.raw<span class="w"> </span>-m<span class="w"> </span><span class="m">2</span><span class="w"> </span>-m<span class="w"> </span><span class="m">0</span><span class="w"> </span>-m<span class="w"> </span><span class="m">1</span><span class="w"> </span>-q<span class="w"> </span>-b<span class="w"> </span>-v
</code></pre></div>
The program will run and summarize the performance (count and timing) of three decoding models (on a Raspberry Pi 4B):
<div class="highlight"><pre><span></span><code>[AIS engine v0.35]:                      38 msgs at 6.3 msg/s
[Standard (non-coherent)]:               4 msgs at 0.7 msg/s
[Base (non-coherent)]:                   3 msgs at 0.5 msg/s
</code></pre></div>
<div class="highlight"><pre><span></span><code>[AIS engine v0.35]:                      1036.54 ms
[Standard (non-coherent)]:               932.47 ms
[Base (non-coherent)]:                   859.065 ms
</code></pre></div>
In this example the Default Model performs quite well in contrast to the Standard non-coherent engine with 38 messages identified versus 4 for the standard engine. 
This is typical when there are messages of poor quality. However, it increases the decoding time a bit and has a slightly higher memory usage so needs more powerful hardware. Please note that the improvements seen for this particular file are an exception.</p>
<p>For completeness, the decoder for NMEA input as text is activated by <code>-m 5</code> and <code>-m</code>4` is an experimental implementation to test new ideas. In practice, the user will not require these settings.</p>
<h2 id="input-from-fm-discriminator">Input from FM discriminator<a class="headerlink" href="#input-from-fm-discriminator" title="Permanent link">&para;</a></h2>
<p>We can run AIS-catcher on a RAW audio file as in this <a href="https://github.com/freerange/ais-on-sdr/wiki/Testing-GNU-AIS">tutorial</a>:
<div class="highlight"><pre><span></span><code>wget<span class="w"> </span><span class="s2">&quot;https://github.com/freerange/ais-on-sdr/wiki/example-data/helsinki-210-messages.raw&quot;</span>
AIS-catcher<span class="w">  </span>-m<span class="w"> </span><span class="m">3</span><span class="w"> </span>-v<span class="w"> </span>-s<span class="w"> </span>48K<span class="w"> </span>-r<span class="w"> </span>cs16<span class="w"> </span>helsinki-210-messages.raw
</code></pre></div>
On this file we should extract roughly <code>362</code> AIVDM lines. Notice that with switch <code>-m 3</code> on the command line AIS-catcher runs a decoding model that assumes the input is the output of an FM discriminator. In this case, the program is similar to the following usage of GNUAIS:
<div class="highlight"><pre><span></span><code>gnuais<span class="w"> </span>-l<span class="w"> </span>helsinki-210-messages.raw
</code></pre></div>
which produces:
<div class="highlight"><pre><span></span><code>INFO: A: Received correctly: 153 packets, wrong CRC: 49 packets, wrong size: 4 packets
INFO: B: Received correctly: 52 packets, wrong CRC: 65 packets, wrong size: 10 packets
</code></pre></div></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/jvde-github/AIS-catcher" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/yourtwitter" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.top"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>